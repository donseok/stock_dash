# TSK-12 위젯 프레임워크 UI 설계

## 1. 개요

위젯 프레임워크는 대시보드의 모든 위젯이 공유하는 공통 UI 패턴과 컴포넌트를 정의한다.

## 2. 공통 위젯 구조

### 2.1 Card 컴포넌트

```
┌─────────────────────────────────────┐
│ [Title]                [HeaderRight] │ <- Card Header
├─────────────────────────────────────┤
│                                     │
│  {children}                         │ <- Card Body
│                                     │
└─────────────────────────────────────┘
```

- 배경: `bg-white`
- 테두리: `border border-gray-200`
- 모서리: `rounded-lg`
- 패딩: `p-4`
- 그림자: `shadow-sm`

### 2.2 LoadingSpinner

```
    ◌  <- 회전 애니메이션
  로딩 중...
```

- 크기: sm (16px), md (24px), lg (32px)
- 색상: primary (#2563eb)

### 2.3 ErrorMessage

```
┌─────────────────────────────────────┐
│  ⚠ 데이터를 불러올 수 없습니다.      │
│                                     │
│        [ 다시 시도 ]                 │
└─────────────────────────────────────┘
```

### 2.4 PriceChange

```
▲ +1,200 (+1.54%)    <- 상승 시 (빨간/초록)
▼ -500 (-0.65%)      <- 하락 시 (파란/빨간)
── 0 (0.00%)         <- 보합 시 (회색)
```

## 3. 위젯 공통 패턴

### 3.1 데이터 페칭 패턴

모든 위젯은 TanStack Query 기반 커스텀 hook을 사용:
- `staleTime`: 5초
- `refetchInterval`: 위젯별 설정 (10초~60초)
- `retry`: 2회
- 에러 시 ErrorMessage 표시

### 3.2 색상 규칙

| 시장 | 상승 | 하락 |
|------|------|------|
| 국내 (KR) | 빨간색 (#ef4444) | 파란색 (#3b82f6) |
| 해외 (US) | 초록색 (#22c55e) | 빨간색 (#ef4444) |

## 4. 위젯 목록

| 위젯 | 컴포넌트 | 갱신 주기 |
|------|---------|----------|
| 시장지수 | MarketIndicesBar | 10초 |
| 국내주식 | DomesticStockWidget | 30초 |
| 해외주식 | ForeignStockWidget | 30초 |
| 암호화폐 | CryptoWidget | 10초 |
| 귀금속 | PreciousMetalWidget | 60초 |
| 환율 | ExchangeRateWidget | 60초 |
| 뉴스 | NewsWidget | 300초 |
| 차트 | StockChartWidget | 30초 |
