# TSK-12 종목 교체/커스터마이징 UI 설계 문서

## 1. 개요

| 항목 | 내용 |
|------|------|
| 태스크 ID | TSK-12 |
| 컴포넌트 | TickerSettingsModal.tsx, 위젯 설정 버튼 통합 |
| 경로 | `frontend/src/components/common/TickerSettingsModal.tsx` |
| 관련 요구사항 | FR-012 |

## 2. 와이어프레임

### 2.1 위젯 헤더 (설정 아이콘 추가)

```
┌─────────────────────────────────────────────────────┐
│  국내주식                                     [⚙]   │
├─────────────────────────────────────────────────────┤
│  종목 | 현재가 | 등락률 | 거래량                       │
│  ────────────────────────────────────────────────── │
│  에스피지                                           │
│  058610     ₩35,000    +1.45%    123,456           │
│  ────────────────────────────────────────────────── │
│  에코프로                                           │
│  247540     ₩52,300    -1.51%    3,456,789         │
│  ────────────────────────────────────────────────── │
│  셀트리온                                           │
│  068270     ₩185,500   +1.92%    1,234,567         │
└─────────────────────────────────────────────────────┘
```

### 2.2 설정 모달 (TickerSettingsModal)

```
┌────────────────────────────────────┐
│                                    │
│  ┌──────────────────────────────┐  │
│  │ 국내주식 종목 설정          ×│  │
│  │                              │  │
│  │  [✓] 에스피지       058610   │  │
│  │  [✓] 에코프로       247540   │  │
│  │  [✓] 셀트리온       068270   │  │
│  │                              │  │
│  │  초기화              [확인]  │  │
│  └──────────────────────────────┘  │
│                                    │
└────────────────────────────────────┘
  (반투명 오버레이)
```

### 2.3 해외주식 설정 모달

```
┌──────────────────────────────┐
│ 해외주식 종목 설정          ×│
│                              │
│  [✓] Alphabet C       GOOG   │
│  [✓] Figma            FIGM   │
│                              │
│  초기화              [확인]  │
└──────────────────────────────┘
```

### 2.4 암호화폐 설정 모달

```
┌──────────────────────────────┐
│ 암호화폐 종목 설정          ×│
│                              │
│  [✓] Bitcoin          BTC    │
│  [✓] Ethereum         ETH    │
│  [✓] Solana           SOL    │
│  [✓] XRP              XRP    │
│  [✓] Chainlink        LINK   │
│  [✓] Sui              SUI    │
│  [✓] Ondo Finance     ONDO   │
│                              │
│  초기화              [확인]  │
└──────────────────────────────┘
```

### 2.5 종목 전체 비활성화 시

```
┌─────────────────────────────────────────────────────┐
│  국내주식                                     [⚙]   │
├─────────────────────────────────────────────────────┤
│  종목 | 현재가 | 등락률 | 거래량                       │
│                                                     │
│     표시할 종목이 없습니다.                            │
│     설정에서 종목을 추가하세요.                         │
│                                                     │
└─────────────────────────────────────────────────────┘
```

## 3. 컴포넌트 상세

### 3.1 설정 아이콘 (기어 버튼)

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 아이콘 | 기어 아이콘 (&#9881;) | `text-gray-400 hover:text-gray-600 text-sm` |
| 위치 | Card 헤더 우측 | `headerRight` prop으로 전달 |
| 툴팁 | "종목 설정" | `title="종목 설정"` |

### 3.2 모달 오버레이

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 오버레이 배경 | 반투명 어두운 배경 | `fixed inset-0 z-50 bg-black/30` |
| 클릭 닫기 | 오버레이 클릭 시 모달 닫기 | `onClick={onClose}` |
| 중앙 정렬 | 모달을 화면 중앙에 배치 | `flex items-center justify-center` |

### 3.3 모달 컨테이너

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 컨테이너 | 흰색 모달 박스 | `relative bg-white rounded-lg shadow-lg w-80 p-4` |
| z-index | 오버레이 위에 표시 | `relative` (부모가 z-50) |

### 3.4 모달 헤더

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 제목 | 카테고리별 동적 제목 | `text-sm font-semibold text-gray-700` |
| 닫기 버튼 | X 문자 | `text-gray-400 hover:text-gray-600 text-lg leading-none` |
| 레이아웃 | 양쪽 정렬 | `flex items-center justify-between mb-3` |

카테고리별 제목:
- domestic: "국내주식 종목 설정"
- foreign: "해외주식 종목 설정"
- crypto: "암호화폐 종목 설정"

### 3.5 체크박스 리스트

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 체크박스 | 종목 on/off 토글 | `rounded border-gray-300 text-gray-900 focus:ring-gray-500` |
| 종목명 | 한글/영문 종목명 | `text-sm text-gray-700` |
| 종목코드 | 심볼 코드 | `text-xs text-gray-400 ml-auto` |
| 행 레이아웃 | 가로 정렬 | `flex items-center gap-2 py-1.5 px-2` |
| 호버 효과 | 배경색 변경 | `rounded hover:bg-gray-50 cursor-pointer` |
| 전체 간격 | 행 간 간격 | `space-y-2 mb-4` |

### 3.6 모달 푸터

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 초기화 버튼 | 기본값으로 복원 | `text-xs text-gray-500 hover:text-gray-700` |
| 확인 버튼 | 모달 닫기 | `px-3 py-1 text-xs bg-gray-900 text-white rounded hover:bg-gray-800` |
| 레이아웃 | 양쪽 정렬 | `flex justify-between` |

## 4. 색상 체계

| 요소 | 색상 | 비고 |
|------|------|------|
| 오버레이 | `rgba(0,0,0,0.3)` | `bg-black/30` |
| 모달 배경 | `#ffffff` | 흰색 |
| 모달 그림자 | shadow-lg | 부유 효과 |
| 체크박스 (활성) | `#111827` (gray-900) | 선택된 상태 |
| 체크박스 (비활성) | `#d1d5db` (gray-300) | 미선택 상태 |
| 종목명 텍스트 | `#374151` (gray-700) | |
| 종목코드 텍스트 | `#9ca3af` (gray-400) | |
| 확인 버튼 | `#111827` bg + `#ffffff` text | 주요 액션 |
| 초기화 버튼 | `#6b7280` (gray-500) | 보조 액션 |

## 5. 반응형 디자인

| 화면 크기 | 레이아웃 | 비고 |
|-----------|---------|------|
| Desktop | 모달 w-80 (320px) 중앙 | 화면 중앙 고정 |
| Tablet | 동일 | 모달 크기 유지 |
| Mobile (<768px) | 동일 (w-80) | 화면 중앙, 좌우 여백 자동 |

## 6. 인터랙션

### 6.1 모달 열기

- 위젯 헤더의 기어(⚙) 아이콘 클릭
- 반투명 오버레이 + 모달이 중앙에 등장

### 6.2 종목 토글

- 체크박스 클릭 시 해당 종목 활성/비활성 즉시 전환
- localStorage에 즉시 저장
- 위젯의 표시 데이터가 실시간으로 필터링 반영

### 6.3 초기화

- "초기화" 버튼 클릭 시 해당 카테고리의 모든 종목을 기본값(전체 활성)으로 복원
- localStorage 즉시 업데이트

### 6.4 모달 닫기

- "확인" 버튼 클릭
- 오버레이 영역 클릭
- 닫기(X) 버튼 클릭

### 6.5 빈 상태

- 모든 종목이 비활성화된 경우 위젯에 안내 메시지 표시
- "표시할 종목이 없습니다. 설정에서 종목을 추가하세요."

## 7. 접근성 (A11y)

| 항목 | 구현 |
|------|------|
| 스크린 리더 | 체크박스에 `<label>` 연결, 종목명 읽기 |
| 키보드 | Tab으로 체크박스 간 이동, Space로 토글 |
| 포커스 관리 | 모달 오픈 시 첫 체크박스에 포커스 |
| 색상 대비 | WCAG 2.1 AA 기준 충족 |
| 모달 역할 | `fixed` 위치, z-50으로 상위 레이어 |
