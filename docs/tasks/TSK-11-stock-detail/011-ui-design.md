# TSK-11 종목 상세정보 패널 UI 설계 문서

## 1. 개요

| 항목 | 내용 |
|------|------|
| 태스크 ID | TSK-11 |
| 컴포넌트 | StockDetailPanel.tsx |
| 경로 | `frontend/src/components/widgets/StockDetailPanel.tsx` |
| 관련 요구사항 | FR-011 |

## 2. 와이어프레임

```
┌─────────────────────────────────────────────────────┐
│  종목 상세정보                                        │
├─────────────────────────────────────────────────────┤
│  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────────┐ ┌─────┐  │
│  │에스피지│ │에코프로│ │셀트리온│ │Alphabet C│ │Figma│  │
│  └──────┘ └──────┘ └──────┘ └──────────┘ └─────┘  │
│                                                     │
│  ₩35,000                                           │
│  ▲ +500 (+1.45%)                                   │
│                                                     │
│  ─────────────────────────────────────────────────  │
│  시가              ₩34,800                          │
│  ─────────────────────────────────────────────────  │
│  고가              ₩35,500                          │
│  ─────────────────────────────────────────────────  │
│  저가              ₩34,500                          │
│  ─────────────────────────────────────────────────  │
│  전일종가           ₩34,500                          │
│  ─────────────────────────────────────────────────  │
│  거래량            123,456                           │
│  ─────────────────────────────────────────────────  │
│  52주 최고          ₩42,000                          │
│  ─────────────────────────────────────────────────  │
│  52주 최저          ₩28,000                          │
│  ─────────────────────────────────────────────────  │
│  시가총액           5,000억                           │
│  ─────────────────────────────────────────────────  │
└─────────────────────────────────────────────────────┘
```

## 3. 컴포넌트 상세

### 3.1 Card 헤더

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 제목 | "종목 상세정보" | Card 공통 컴포넌트의 title prop |

### 3.2 종목 선택 버튼 그룹

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 선택된 종목 | 활성 종목 버튼 | `bg-gray-900 text-white border-gray-900` |
| 비선택 종목 | 비활성 종목 버튼 | `text-gray-600 border-gray-200 hover:border-gray-400` |
| 버튼 공통 | pill 형태 | `px-2.5 py-1 text-xs rounded-full border` |
| 버튼 간격 | flex wrap | `flex flex-wrap gap-1.5 mb-3` |

### 3.3 현재가/등락 섹션

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 현재가 | 메인 가격 표시 | `text-lg font-bold text-gray-900` |
| 등락 정보 | PriceChange 컴포넌트 | 공통 PriceChange 컴포넌트 활용 |
| 섹션 여백 | 하단 여백 | `mb-3` |

### 3.4 DetailRow

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 라벨 | 항목명 (시가, 고가 등) | `text-xs text-gray-500` |
| 값 | 숫자/가격 표시 | `text-xs font-mono text-gray-900` |
| 행 레이아웃 | 양쪽 정렬 | `flex justify-between py-1.5 border-b border-gray-50` |
| 시가총액 | 조건부 표시 | `detail.marketCap`이 있을 때만 표시 |

```typescript
function DetailRow({ label, value }: { label: string; value: string }) {
  return (
    <div className="flex justify-between py-1.5 border-b border-gray-50">
      <span className="text-xs text-gray-500">{label}</span>
      <span className="text-xs font-mono text-gray-900">{value}</span>
    </div>
  );
}
```

## 4. 색상 체계

| 상태 | 텍스트 색상 | 배경 색상 | 비고 |
|------|-----------|----------|------|
| 상승 | `#ef4444` (red-500) | - | 한국식 상승=빨강 |
| 하락 | `#3b82f6` (blue-500) | - | 한국식 하락=파랑 |
| 보합 | `#6b7280` (gray-500) | - | 변동 없음 |
| 라벨 텍스트 | `#6b7280` (gray-500) | - | DetailRow 라벨 |
| 값 텍스트 | `#111827` (gray-900) | - | DetailRow 값 |
| 선택 버튼 (활성) | `#ffffff` | `#111827` (gray-900) | 현재 선택 종목 |
| 선택 버튼 (비활성) | `#4b5563` (gray-600) | `#ffffff` | 미선택 종목 |
| 행 구분선 | - | `#f9fafb` (gray-50) | `border-b border-gray-50` |

## 5. 반응형 디자인

| 화면 크기 | 레이아웃 | 비고 |
|-----------|---------|------|
| Desktop (>=1024px) | 12컬럼 그리드 중 4컬럼 차지 (`lg:col-span-4`) | 사이드 패널 형태 |
| Tablet (768-1023px) | 전체 너비 | 세로 스택 |
| Mobile (<768px) | 전체 너비, 버튼 wrap | flex-wrap으로 종목 버튼 자동 줄바꿈 |

## 6. 인터랙션

### 6.1 종목 선택

- 5개 종목 버튼 중 하나를 클릭하면 해당 종목의 상세 정보를 조회
- 선택된 버튼은 진한 스타일(`bg-gray-900 text-white`)로 활성 표시
- React Query 캐싱으로 이전에 조회한 종목은 즉시 표시

### 6.2 통화 표시

- 국내 종목 (market === "KR"): 원화(KRW) 형식으로 가격 표시
- 해외 종목 (market === "US"): 달러(USD) 형식으로 가격 표시
- `formatPrice()` 유틸리티 함수에서 통화별 포맷팅 처리

### 6.3 로딩 상태

```
┌─────────────────────────────────────────────────────┐
│  종목 상세정보                                        │
├─────────────────────────────────────────────────────┤
│  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────────┐ ┌─────┐  │
│  │에스피지│ │에코프로│ │셀트리온│ │Alphabet C│ │Figma│  │
│  └──────┘ └──────┘ └──────┘ └──────────┘ └─────┘  │
│                                                     │
│              [LoadingSpinner]                        │
│                                                     │
└─────────────────────────────────────────────────────┘
```

### 6.4 에러 상태

```
┌─────────────────────────────────────────────────────┐
│  종목 상세정보                                        │
├─────────────────────────────────────────────────────┤
│  ┌──────┐ ┌──────┐ ...                              │
│                                                     │
│       데이터를 불러올 수 없습니다.                       │
│              [다시 시도]                              │
│                                                     │
└─────────────────────────────────────────────────────┘
```

## 7. 접근성 (A11y)

| 항목 | 구현 |
|------|------|
| 스크린 리더 | DetailRow에 의미 있는 텍스트 조합 (라벨: 값) |
| 키보드 | Tab으로 종목 버튼 간 이동, Enter/Space로 선택 |
| 색상 대비 | WCAG 2.1 AA 기준 충족 (gray-900 on white) |
| 포커스 표시 | 버튼 포커스 시 시각적 피드백 |
