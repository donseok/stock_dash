# TSK-04 주식 차트 UI 설계 문서

## 1. 개요

| 항목 | 내용 |
|------|------|
| 태스크 ID | TSK-04 |
| 컴포넌트 | StockChartWidget.tsx |
| 경로 | `components/charts/StockChartWidget.tsx` |
| 관련 요구사항 | FR-002 |

## 2. 와이어프레임

```
┌─────────────────────────────────────────────────────┐
│  [종목 선택 ▼]          삼성전자 (005930)            │
│                         79,000 ▲ +1,200 (+1.54%)    │
├─────────────────────────────────────────────────────┤
│                                                     │
│                                                     │
│           ┌──┐                                      │
│      ┌──┐ │  │ ┌──┐                          ┌──┐  │
│  ┌──┐│  │ │  │ │  │    ┌──┐ ┌──┐        ┌──┐│  │  │
│  │  ││  │ │  │ │  │┌──┐│  │ │  │   ┌──┐ │  ││  │  │
│  │  ││  │ │  │ │  ││  ││  │ │  │┌──┤  │ │  ││  │  │
│  └──┘└──┘ └──┘ └──┘└──┘└──┘ └──┘└──┘  │ └──┘└──┘  │
│                                        └──┘        │
│                                                     │
├─────────────────────────────────────────────────────┤
│  [1D] [1W] [1M] [3M] [6M] [1Y] [5Y]    📊 📈     │
│                  ^^^                     캔들 라인   │
└─────────────────────────────────────────────────────┘
```

## 3. 컴포넌트 상세

### 3.1 ChartHeader

| 요소 | 설명 | 스타일 |
|------|------|--------|
| 종목 선택 드롭다운 | 심볼 전환 | `w-48`, 좌측 상단 |
| 종목명 / 코드 | 현재 선택된 종목 | `text-lg font-bold` |
| 현재가 | 실시간 가격 | `text-2xl font-bold` |
| 등락 정보 | 전일 대비 변동 | 상승: `text-red-500`, 하락: `text-blue-500` |

### 3.2 ChartCanvas

| 속성 | 값 |
|------|-----|
| 기본 높이 | 400px |
| 기본 너비 | 100% (반응형) |
| 배경색 | `#ffffff` (Light) / `#1a1a2e` (Dark) |
| 그리드 색상 | `#f0f0f0` (Light) / `#2a2a3e` (Dark) |
| 상승 캔들 색상 | `#ef4444` (빨강) |
| 하락 캔들 색상 | `#3b82f6` (파랑) |
| 라인 차트 색상 | `#6366f1` (인디고) |
| 크로스헤어 | 포인터 이동 시 표시 |
| 볼륨 바 | 차트 하단 20% 영역 |

### 3.3 PeriodSelector

| 기간 | 라벨 | 기본 interval |
|------|------|---------------|
| 1D | 1일 | 1m |
| 1W | 1주 | 5m |
| 1M | 1개월 | 1d |
| 3M | 3개월 | 1d |
| 6M | 6개월 | 1d |
| 1Y | 1년 | 1wk |
| 5Y | 5년 | 1wk |

- 선택된 기간 버튼: `bg-indigo-600 text-white rounded-md`
- 비선택 버튼: `bg-gray-100 text-gray-700 hover:bg-gray-200`

### 3.4 ChartTypeSwitcher

| 아이콘 | 차트 유형 | 설명 |
|--------|----------|------|
| 캔들스틱 아이콘 | candlestick | OHLC 캔들스틱 차트 |
| 라인 아이콘 | line | 종가 기반 라인 차트 |

## 4. 반응형 디자인

| 화면 크기 | 차트 높이 | 기간 선택 | 비고 |
|-----------|----------|----------|------|
| Desktop (>=1024px) | 400px | 전체 표시 | 기본 레이아웃 |
| Tablet (768-1023px) | 350px | 전체 표시 | 좌우 패딩 축소 |
| Mobile (< 768px) | 280px | 스크롤 가능 | 종목 선택 풀 너비 |

## 5. 인터랙션

### 5.1 차트 인터랙션

- **마우스 호버**: 크로스헤어 표시 + 해당 시점 OHLCV 데이터 툴팁
- **줌인/줌아웃**: 마우스 휠 또는 핀치 제스처
- **드래그**: 차트 좌우 스크롤
- **기간 전환**: 클릭 시 애니메이션 트랜지션 (300ms fade)

### 5.2 로딩 상태

```
┌─────────────────────────────────────┐
│  [종목 선택 ▼]                      │
├─────────────────────────────────────┤
│                                     │
│         ░░░░░░░░░░░░░░░            │
│         차트 로딩 중...              │
│         ░░░░░░░░░░░░░░░            │
│                                     │
├─────────────────────────────────────┤
│  [1D] [1W] [1M] [3M] ...           │
└─────────────────────────────────────┘
```

### 5.3 에러 상태

```
┌─────────────────────────────────────┐
│  [종목 선택 ▼]                      │
├─────────────────────────────────────┤
│                                     │
│         ⚠ 데이터를 불러올 수         │
│           없습니다.                  │
│         [다시 시도]                  │
│                                     │
├─────────────────────────────────────┤
│  [1D] [1W] [1M] [3M] ...           │
└─────────────────────────────────────┘
```

## 6. 접근성 (A11y)

| 항목 | 구현 |
|------|------|
| 키보드 네비게이션 | Tab 키로 기간/차트 유형 전환 |
| 스크린 리더 | `aria-label` 차트 요약 정보 제공 |
| 색상 대비 | WCAG 2.1 AA 기준 충족 |
| 대체 텍스트 | 차트 불가 시 테이블 형태 데이터 제공 |
